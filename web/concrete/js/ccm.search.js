!function(a,b){"use strict";function c(a,b){b=b||{},this.$element=a,this.$results=a.find("div[data-search-results]"),this.setupCheckboxes(),this.setupSort(),this.setupSearch(),this.setupPagination()}c.prototype.ajaxUpdate=function(a,c){c=c||[];var d=this;jQuery.fn.dialog.showLoader(),b.ajax({type:"post",data:c,url:a,complete:function(){jQuery.fn.dialog.hideLoader()},error:function(a){ccmAlert.notice(a)},success:function(a){d.$results.html(a)}})},c.prototype.setupSort=function(){var a=this;this.$element.on("click","thead th a",function(){return a.ajaxUpdate(b(this).attr("href")),!1})},c.prototype.setupSearch=function(){var a=this;this.$element.on("submit","form[data-search-form]",function(){var c=b(this).serializeArray();return c.push({name:"submitSearch",value:"1"}),a.ajaxUpdate(b(this).attr("action"),c),!1})},c.prototype.setupPagination=function(){var a=this;this.$element.on("click","ul.pagination a",function(){return a.ajaxUpdate(b(this).attr("href")),!1})},c.prototype.setupCheckboxes=function(){var a=this;this.$element.on("click","input[data-search-checkbox=select-all]",function(){a.$element.find("input[data-search-checkbox=individual]").prop("checked",b(this).is(":checked"))})},b.fn.concreteAjaxSearch=function(a){return new c(this,a)}}(window,$);