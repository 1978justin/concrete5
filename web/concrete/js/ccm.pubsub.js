var ccm_event=function(window){"use strict";var target=window.document.createElement("span");var self={};self.sub=function(type,handler,elem){if(type instanceof Array){for(var i=type.length-1;i>=0;i--){self.sub(type[i],handler,elem)}return}var element=elem||target;if(element.addEventListener){element.addEventListener(type.toLowerCase(),handler,false)}else{element.attachEvent("on"+type.toLowerCase(),handler)}};self.pub=function(type,data,elem){if(type instanceof Array){for(var i=type.length-1;i>=0;i--){self.pub(type[i],data,elem)}return}var event,eventName="CCMEvent",element=elem||target;if(document.createEvent){event=document.createEvent("HTMLEvents");event.initEvent(type.toLowerCase(),true,true)}else{event=document.createEventObject();event.eventType=type.toLowerCase()}event.eventName=eventName;event.eventData=data||{};if(document.createEvent){element.dispatchEvent(event)}else{element.fireEvent("on"+event.eventType,event)}if(typeof element["on"+type.toLowerCase()]==="function"){element["on"+type.toLowerCase()](event)}};self.subscribe=self.bind=self.watch=self.on=self.sub;self.publish=self.fire=self.trigger=self.pub;return self}(window);window.ccm_subscribe=ccm_event.sub;window.ccm_publish=ccm_event.pub;